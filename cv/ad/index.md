### 1.3.2
- ラベルなしのデータ場合
  - 正常時に出現確率が大きいなら異常度が低い
- Dの中には異常標本がないか，ごく僅かであると信じられることが必要
- 異常度が高いなら得られる**情報量**は高い
- 異常度が低いなら，得られる情報量は少ない
  - 珍しい観測値を得た方が情報をたくさんゲットできる
- 計測値$x'$に対する異常度$a(x')$を次のように定義できる
- 「Happy families are all alike; every unhappy family is unhappy in its own way」

## 1.4 検知器の性能を評価する
異常検知の性能評価の重要な点
- データを分けること
  - 訓練データ(training data)
  - 検証データ(validation data)
  - テストデータ(test data)

交差確認法(cross validation)
- 訓練データで異常検知のモデルを作る
- 検証データでその性能を評価する
- 5分割して4つで訓練し，残りで腱鞘する
  - これを5回繰り返した平均を性能指標とする

1つ抜き交差確認法(leave-one-out cross validation)
- はずれ値検出の時はNこの標本があるときにN-1個でモデルを作り，残りの1つであたりかはずれかを見る
- N回繰り返す

異常検知の問題点
- (正常標本の数)>>(異常標本の数)
- 楽観的な検出器は異常データを全て見逃す
- 悲観的な検出器は圧倒的多数の正常標本に間違った答えを出す
- 正常標本を使うのか異常標本を使うのかはっきりさせるべき

### 1.4.1 正常標本精度
**正常標本精度**(normal sample accuracy)
- 正常標本に対する最も自然な指標
- (正常標本精度)≡(実際に正常＆正常と判定)/(全ての正常な標本)
- N=100で正常標本が90なら分母は90, 分子には成功した数が入る
- 正答率(detection rate)とも呼ばれる

誤報率(false alarm rate)
- 偽陽性率(false positive rate)とも呼ばれる
- 悪さに注目する
- 陰性を陽性と判断してしまう

### 1.4.2 異常標本精度
異常標本精度(anomalous sample accuracy)
- (異常標本精度)≡(正しく異常と判定した数)/(異常の総数)
- 異常網羅率(cover-age)
- 再現率(recall,リコール)
- ヒット率(hit ratio)
- 真陽性率(true positive ratio)

### 1.4.3 分岐点精度とF値
- 正答率やヒット率は異常度の閾値の設定で大幅に変わる

異常検出器の性能を表現する
- 図を提示するのが最善の方法
- 分岐点精度(break-even accuracy)
- 性能分岐点での精度のこと
  - 正常標本精度が異常標本精度に一致する点での精度
  - <span style="color:blue;">[感想]なんか異常データは少ないからちょっと異常よりにずらした方がたくさん検知できて上手くいきそう</span>

F値(F-score)
- 実用的には，一致する点を求めない
- 正常標本精度$r_0$と異常標本精度$r_1$の**調和平均**(harmonic mean)を閾値やパラメータの異なる値ごとに計算しその最大値を与える点を性能分岐点とするのが便利である

### 1.4.4 ROC曲線の下部面積
**ROC曲線**(receiver operating characteristic curve)
- 正常のと異常な標本に分けて精度を閾値の関数として表示する指標の一つ
- **受信者操作特性曲線**とも呼ぶ
- 異常標本精度を誤報率の関数として表した曲線として定義される
- ある閾値τに対して，X座標とY座標が
(X,Y)=(1-r_0(τ),r_1(τ))　(1.2)
のようになる点の集まり
- ROC曲線と横軸が挟む部分を**AUC**と呼び，異常検知器の良さの指標になる
[](/img/fig1.5.png)
___
**定理1.1**(ROC曲線と異常判定閾値の関係)
異常度を式(1.2)で表した時，ROC曲線の傾きの対数は，その点における異常判定の閾値に等しい
___
証明略